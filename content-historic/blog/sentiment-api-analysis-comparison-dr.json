{"_filedata":{"slug":"sentiment-api-analysis-comparison-dr"},"title":"Sentiment Analysis API Comparison","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2019/10/TW_EN_Sentiment-Analysis_1200x675.jpg","author":295,"published":true,"published_at":"2019-10-17T09:20:06","tags":[1614,119,499,1571,796,1613,1376],"body":"Written communication between two people often proves challenging when trying to interpret emotion. Online conversations are easily misunderstood, leading to unwanted or unexpected outcomes.\n\nSentiment analysis gives us the ability to extract meaning from text, programmatically, allowing developers to build applications with feedback loops that can be mostly automated.\n\nHaving the ability to analyze text and route people to the appropriate channel provides a distinct ability to find customers who are less than happy and may need additional assistance or some other intervention.\n\nAny business that utilizes text communication, whether on social media or in support channels, greatly benefits from this analysis for learning purposes both after the fact or in real time. As a developer, we can provide this functionality to the organization with ease.\n\n## Overview\n\nThis post serves as a comparison of four sentiment analysis cloud services: [Amazon Comprehend](https://aws.amazon.com/comprehend/), [Azure Text Analytics](https://azure.microsoft.com/en-us/services/cognitive-services/text-analytics/), [Google Natural Language](https://cloud.google.com/natural-language/), and [IBM Watson Tone Analyzer](https://www.ibm.com/cloud/watson-tone-analyzer).\n\nAs text input, I used the [Nexmo Incoming Messages webhook](https://developer.nexmo.com/concepts/guides/webhooks) to allow for instant feedback from the service with each text message. During the process, I made sure to capture some notes and organized them here to help you evaluate a provider.\n\n## Accuracy and Scoring\n\nEach service uses a slightly different scoring system. However, each tends to use `1` as the baseline for a confidence level. The closer the number is to 1, the more confident the service is that the sentiment is accurate. Watson Tone Analyzer adds labels to the sentiment like `joy`, `sadness`, and `analytical` to try and classify the sentiment further, where the others tend to rely on positive and negative alone.\n\nAs discovered find in the testing below, accuracy for sentiment is easy when phrasing and intent are straightforward. However, the human context in speech can drastically change a sentiment with the usage of language like sarcasm. Sarcasm and other language devices make sentiment analysis more difficult to be accurate 100% of the time and generally text communications as a whole.\n\n### “I am happy!”\n\nEvery service got this as a positive/joyful response without too much trouble.\n\n*   Amazon Comprehend – `Positive - 0.9970158338546753`\n*   Azure Text Analytics API – `0.9928278923034668`\n*   Google Natural Language API – `0.800000011920929`\n*   Watson Tone Analyzer: `1 - Joy`\n\n### “I am sad.”\n\nAnother easy test that came back with a negative sentiment. Notice here that Google uses negative numbers for negative sentiment.\n\n*   Amazon Comprehend – `Negative - 0.9563825130462646`\n*   Azure Text Analytics API – `0.0036676526069641113`\n*   Google Natural Language API – `-0.20000000298023224`\n*   Watson Tone Analyzer: `1 - Sadness`\n\n### “So happy there was a pop quiz today.”\n\nIn the third test, I used purposefully misleading text. This phrase would most likely be sarcasm, and the sentiment would be the opposite of happy. Every service was less confident that the positive sentiment was accurate, but Google went along with it.\n\n*   Amazon Comprehend – `Positive - 0.978675365447998`\n*   Azure Text Analytics API – `0.887139081954956`\n*   Google Natural Language API – `0.800000011920929`\n*   Watson Tone Analyzer: `0.899749 - Joy`\n\n## Features\n\nThe main focus of this post is sentiment analysis. Every service provider listed here provides at least that as a minimum. Google, Azure, and Amazon, provide additional natural language processing tools as well, such as entity analysis, syntax analysis, content classification, and keyphrase extraction. IBM Watson Tone Analyzer provides just sentiment analysis alone.\n\nThe pricing for the additional functionality varies by the provider as well, so if you plan on using it, be sure to verify the costs first.\n\n### Supported Languages\n\nThe languages supported vary between services quite a bit. Watson Tone Analyzer supports the least amount, supporting only English and French. All of the other services provide at least these with many additional languages, as well. The common languages between them are German, French, Italian, Spanish, English, and Portuguese.\n\n[Amazon Comprehend Language Support](https://docs.aws.amazon.com/comprehend/latest/dg/supported-languages.html)  \n[Azure Text Analytics Language Support](https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/language-support)  \n[Google Natural Language API Language Support](https://cloud.google.com/natural-language/docs/languages)  \n[Watson Tone Analyzer Language Support](https://cloud.ibm.com/docs/services/tone-analyzer?topic=tone-analyzer-utgpe)\n\n## Ease of Use\n\nSentiment analysis is a well-established functionality for each cloud provider. Setup for each service was mostly the same, with minor exceptions. The typical requirements include turning on the service and getting credentials either directly from the service or an authenticated user.\n\nAll of the services provide an SDK with the built-in functionality to make setup and usage straightforward.\n\n### Amazon Comprehend\n\nThe Amazon Comprehend request uses an array to pass in multiple phrases at once and responds with an index referenced object that uses `Positive`, `Negative`, `Neutral`, and `Mixed` scores. Using multiple scores like this could prove useful in times when the phrase is more complex and doesn’t merely fall into one score category.\n\n#### Request\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">function analyzeTone(params) { var obj = { LanguageCode: \"en\", TextList: [ params.text, ] }; var comprehend = new AWS.Comprehend({region: process.env.AWS_REGION}); comprehend.batchDetectSentiment(obj, function (err, data) { if (err) { console.log(err, err.stack); } else{ console.dir(data, {depth: null}) } }); }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9c717071660-18\">18</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">analyzeTone</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">obj</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">LanguageCode</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"en\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">TextList</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">text</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-7\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">comprehend</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">AWS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Comprehend</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">region</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AWS_REGION</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">comprehend</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">batchDetectSentiment</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">obj</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">stack</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">else</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dir</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">depth</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-16\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9c717071660-17\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9c717071660-18\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### Response\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">{ ResultList: [ { Index: 0, Sentiment: 'POSITIVE', SentimentScore: { Positive: 0.9970158338546753, Negative: 0.0002091785572702065, Neutral: 0.002759476425126195, Mixed: 0.000015530584278167225 } } ], ErrorList: [] }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1b9f444246896-16\">16</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-1\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">ResultList</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Index</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Sentiment</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'POSITIVE'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">SentimentScore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Positive</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.9970158338546753</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Negative</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.0002091785572702065</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Neutral</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.002759476425126195</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Mixed</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.000015530584278167225</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-13\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">ErrorList</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1b9f444246896-15\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1b9f444246896-16\">&nbsp;</div></div></td></tr></tbody></table>\n\nIf you’d like to test this out we have a repo for [Amazon Comprehend](https://nexmo.dev/aws-nexmo-sms-analysis-js) using Nexmo messaging.\n\n[Amazon Comprehend API Documentation](https://docs.aws.amazon.com/comprehend/latest/dg/comprehend-general.html)\n\n### Azure Text Analytics API\n\n#### Request\n\nAzure Text Analytics also uses an array for multiple lines of text but requires the `text` and `id` to be passed as an object. The response is a little lacking compared to the other services, only providing a score from 0 to 1 with 0 as `negative` and 1 as `positive`.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">function analyzeTone(params) { const creds = new CognitiveServicesCredentials.ApiKeyCredentials({ inHeader: { 'Ocp-Apim-Subscription-Key': process.env.TEXT_ANALYTICS_SUBSCRIPTION_KEY } }); const client = new TextAnalyticsAPIClient.TextAnalyticsClient(creds, process.env.TEXT_ANALYTICS_ENDPOINT); const inputDocuments = {documents:[ {id:\"1\", text:params.text} ]} const operation = client.sentiment({multiLanguageBatchInput: inputDocuments}) operation .then(result =&gt; { console.dir(result, {depth: null}) }) .catch(err =&gt; { throw err; }); }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba1899976420-19\">19</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">analyzeTone</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">creds</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">CognitiveServicesCredentials</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ApiKeyCredentials</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">inHeader</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Ocp-Apim-Subscription-Key'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">TEXT_ANALYTICS_SUBSCRIPTION</span><span class=\"crayon-sy\">_</span>KEY<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">client</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TextAnalyticsAPIClient</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">TextAnalyticsClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">creds</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">TEXT_ANALYTICS_ENDPOINT</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-4\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">inputDocuments</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">documents</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">:</span><span class=\"crayon-s\">\"1\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">text</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-7\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-8\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-9\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">operation</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sentiment</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">multiLanguageBatchInput</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">inputDocuments</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-10\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-i\">operation</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-11\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">then</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dir</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">depth</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-13\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">catch</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">throw</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-16\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-17\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba1899976420-18\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba1899976420-19\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### Response\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">{ documents: [ { id: '1', score: 0.9928278923034668 } ], errors: [] }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba2340961815-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba2340961815-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba2340961815-1\"><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">documents</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'1'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">score</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.9928278923034668</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">errors</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba2340961815-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nIf you’d like to test this out we have a repo for [Amazon Comprehend](https://nexmo.dev/aws-nexmo-sms-analysis-js) using Nexmo messaging.\n\n[Azure Text Analytics API Documentation](https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/overview)\n\n### Google Natural Language API\n\nGoogle Natural Language API provides a method that accepts one document at a time, which may lead to additional traffic with more substantial usage. The response provides a score using -1.0 as `negative` and 1.0 as `positive`, as well as a magnitude score, which is the absolute value of the score. It also responded with two `undefined` keys in the response that, despite additional research, remain unexplained.\n\n#### Request\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">// Google Cloud Sentiment Analysis const client = new language.LanguageServiceClient(); function analyzeTone(params) { let document = { content: params.text, type: 'PLAIN_TEXT', }; client.analyzeSentiment({document: document}) .then(results =&gt; { console.dir(results, {depth: null}) }) .catch(err =&gt; { console.log('error', err); }); }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba4616747676-18\">18</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-1\"><span class=\"crayon-c\">// Google Cloud Sentiment Analysis</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-2\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">client</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">language</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">LanguageServiceClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-3\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-4\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">analyzeTone</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">let </span><span class=\"crayon-v\">document</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">content</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">text</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">type</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'PLAIN_TEXT'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-8\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-9\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-10\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">analyzeSentiment</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">document</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">document</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">then</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">results</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dir</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">results</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">depth</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">catch</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'error'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba4616747676-17\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba4616747676-18\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### Response\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">[ { sentences: [ { text: { content: 'I am happy!', beginOffset: -1 }, sentiment: { magnitude: 0.800000011920929, score: 0.800000011920929 } } ], documentSentiment: { magnitude: 0.800000011920929, score: 0.800000011920929 }, language: 'en' }, undefined, undefined ]</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba5999370285-15\">15</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-1\"><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba5999370285-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">sentences</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba5999370285-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">content</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'I am happy!'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">beginOffset</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba5999370285-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">sentiment</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">magnitude</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.800000011920929</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">score</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.800000011920929</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba5999370285-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">documentSentiment</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">magnitude</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.800000011920929</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">score</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.800000011920929</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba5999370285-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">language</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'en'</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-11\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba5999370285-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">undefined</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-13\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-i\">undefined</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba5999370285-14\"><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba5999370285-15\">&nbsp;</div></div></td></tr></tbody></table>\n\nIf you’d like to test this out we have a repo for [Google Natural Language API](https://nexmo.dev/google-nexmo-sms-analysis) using Nexmo messaging.\n\n[Google Natural Language API Documentation](https://cloud.google.com/natural-language/docs/)\n\n### Watson Tone Analyzer\n\nWatson Tone Analyzer also accepts one text input, but also allows for sentences to be passed in and analyzed individually with the flag `sentences` set to true. The response returns a score range 0 to 1, but also includes a `tone_id` which can include the following: `anger`, `fear`, `joy`, `sadness`, `analytical`, `confident`, `tentative`. The tones can help shape the meaning of the phrases a bit better and provides more human context.\n\n#### Request\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">// IBM Watson Tone Analysis var toneAnalyzer = new ToneAnalyzerV3({ iam_apikey: process.env.TONE_ANALYZER_IAM_APIKEY, url: process.env.TONE_ANALYZER_URL, version: '2017-09-21' }); function analyzeTone(params) { let toneParams = { tone_input: { 'text': params.text}, content_type: 'application/json', }; toneAnalyzer.tone(toneParams) .then(toneAnalyzer =&gt; { console.dir(toneAnalyzer, {depth: null}) }) .catch(err =&gt; { console.log('error', err); }); }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba6131292072-22\">22</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-1\"><span class=\"crayon-c\">// IBM Watson Tone Analysis</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-2\"><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">toneAnalyzer</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ToneAnalyzerV3</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">iam_apikey</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">TONE_ANALYZER_IAM_APIKEY</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">url</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">TONE_ANALYZER_URL</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">version</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'2017-09-21'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-6\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-7\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-8\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">analyzeTone</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-9\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">let </span><span class=\"crayon-v\">toneParams</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">tone_input</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'text'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">params</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">text</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">content_type</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'application/json'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-13\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">toneAnalyzer</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">tone</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">toneParams</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">then</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">toneAnalyzer</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dir</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">toneAnalyzer</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">depth</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">catch</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'error'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba6131292072-21\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba6131292072-22\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### Response\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">{ document_tone: { tones: [ { score: 1, tone_id: 'joy', tone_name: 'Joy' } ] } }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba7882817960-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba7882817960-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1ff1ba7882817960-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1ff1ba7882817960-4\">4</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba7882817960-1\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba7882817960-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">document_tone</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tones</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">score</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tone_id</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'joy'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tone_name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Joy'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1ff1ba7882817960-3\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1ff1ba7882817960-4\">&nbsp;</div></div></td></tr></tbody></table>\n\nIf you’d like to test this out we have a repo for [IBM Watson Tone Analyzer](https://nexmo.dev/ibm-nexmo-sms-analysis-repo) using Nexmo messaging.\n\n[Watson Tone Analysis Documentation](https://cloud.ibm.com/apidocs/tone-analyzer)\n\n## Cost\n\nPricing for these services proved to be a bit confusing at first glance, but after some thinking and computation, I was able to determine how things broke down.\n\nAmazon and Google both charge in a measure of `units`. Amazon’s unit is 100 characters with a minimum of 300, and Google using 1000 character blocks, charging 1-1000 characters the same amount. Azure also charges per 1000 characters, but calls these `text records`. IBM measures by API calls.\n\nGiven that, the easiest way to normalize the different costs is to use a 1000 character message as an example with a volume of 500,000 per month on a standard system (higher compute power available at higher costs). Volume pricing may help your specific case if you have a significantly higher amount.\n\n| Provider | Free Tier | Cost | Normalized Cost\\* |\n| --- | --- | --- | --- |\n| [Amazon Comprehend](https://aws.amazon.com/comprehend/pricing/) | N/A | Up to 10M Units – $0.0001 | $500 |\n| [Azure Text Analytics API](https://azure.microsoft.com/en-us/pricing/details/cognitive-services/text-analytics/) | 5,000 Text Records/Month | 0-500K – $2 per 1,000 text records | $1000 |\n| [Google Natural Language API](https://cloud.google.com/natural-language/pricing) | 5,000 Units/Month | 5K+ -1M $1.00/1000 units | $500 |\n| [Watson Tone Analyzer](https://www.ibm.com/cloud/watson-tone-analyzer/pricing) | 2,500 API Calls/Month | 1-250K @ $0.0088  \n250K-500K @ $0.0013 | $2437 |\n\n_\\* Costs based on 500,000,000 characters sent per month – as of 10/11/19 – subject to change_\n\n## Recap\n\nGoing through all of these services turned out to be a fun exercise and a good learning experience about the power of sentiment analysis. Each vendor provides a good amount of functionality and accuracy. When selecting one of the 4 providers, be sure to evaluate based on your language needs, and determine the costs breakdown based on your usage, as each service decreases with volume.\n\nAmazon Comprehend, with its additional features, low cost, and basic language support, makes it my top choice. It’s easy to setup, simple to use, and the response object has details that I find very useful.\n\nIf you would like to try out any or all of these services, the [Nexmo Extend](https://developer.nexmo.com/extend) team has created some example code to help you get started.\n\n*   [Amazon Comprehend](https://nexmo.dev/aws-nexmo-sms-analysis-js)\n*   [Azure Text Analytics](https://nexmo.dev/azure-nexmo-sms-analysis-js)\n*   [Google Natural Language API](https://nexmo.dev/google-nexmo-sms-analysis)\n*   [IBM Watson Tone Analyzer](https://nexmo.dev/ibm-nexmo-sms-analysis-repo)"}