{"_filedata":{"slug":"how-to-send-sms-confirmations-for-new-stripe-charges-with-zapier"},"title":"How to Send SMS Confirmations for New Stripe Charges with Zapier","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2020/03/Blog_SMS-Confirmation_1200x600.png","author":358,"published":true,"published_at":"2020-04-03T12:13:28","tags":[360,92,1700],"body":"<p>Although <a href=\"https://stripe.com/en-ca\">Stripe</a> can make collecting payments feel seamless, there are some extra things you can do to fully streamline the purchasing process and enhance communication with your customers. If your goal is to improve customer experience and brand perception, automating paperless receipts is worth considering. While Stripe can send customers a standard email receipt for each successful payment, it does not currently allow for SMS confirmations. Providing your customers with the option to choose how they want to be communicated with makes a profound impact on the end-user and demonstrates how much your company values their experience. And if there&#8217;s a way that implementing that seamless experience can save money in developer resources, you’re looking at a win-win.</p>\n<p>In this tutorial, we will learn how to send SMS payment confirmations (including a link to the receipt) for each new Stripe charge with <a href=\"https://zapier.com/app/dashboard\">Zapier</a>, the workflow automation platform. Follow along to find out how you can improve your purchasing process in a matter of minutes—no code required!</p>\n<h2>Prerequisites</h2>\n<p>To get started, you will need the following:</p>\n<ol>\n<li>A <a href=\"https://dashboard.nexmo.com/sign-up?utm_source=DEV_REL&amp;utm_medium=github&amp;utm_campaign=https%3A%2F%2Fgithub.com%2Fnexmo-community%2Fsms-confirmation-for-stripe-charges-zapier\">Nexmo</a> account. You’ll receive complimentary credit to purchase SMS enabled numbers upon first signing up.</p>\n</li>\n<li>\n<p>A <a href=\"https://zapier.com/app/dashboard\">Zapier</a> account. The free Zapier plan allows for workflows containing two steps, which is all we’ll need for this tutorial.</p>\n</li>\n<li>\n<p>An activated <a href=\"https://dashboard.stripe.com/test/dashboard\">Stripe</a> account. If you are new to Stripe and activation is pending, you can still follow this tutorial and get the workflow configured.</p>\n</li>\n</ol>\n<h2>Step 1: Create a Zap</h2>\n<p>Log in to your Zapier account and click the <strong>Make a Zap</strong> button on the sidebar.</p>\n<blockquote><p>\n  Note: Zapier workflows are called Zaps, so you’ll see that term used often.\n</p></blockquote>\n<p>Then, name your Zap by replacing the placeholder text in the header.</p>\n<h2>Step 2: Create a Stripe Trigger</h2>\n<h3>Choose App &amp; Event</h3>\n<p>Under <strong>Choose App &amp; Event</strong>, search for and select <strong>Stripe</strong>. Next, open up the list of options under <strong>Choose Trigger Event</strong> and select <strong>New Charge</strong>. This ensures our action (the SMS) will take place when a charge has been incurred.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe1.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe1.png\" alt=\"Zap triggered when a new charge takes place\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31875\" /></a></p>\n<h3>Choose Stripe Account</h3>\n<p>Now, connect to your Stripe account. To do so, you will need to enter the API key from your Stripe dashboard when prompted.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe2.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe2.png\" alt=\"Connect to Stripe account prompt\" width=\"2184\" height=\"1680\" class=\"alignnone size-full wp-image-31876\" /></a></p>\n<p>As seen below, two sets of API keys are provided by Stripe—a test key and a live key. The <strong>live API key</strong> must be used for Zapier to pull in real data. However, as this key is only released <em>after</em> your Stripe account has gone through the activation process, use the test API key as a placeholder if needed. This will allow you to continue configuring the Zap for now.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe3.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe3.png\" alt=\"Stripe dashboard contains API keys\" width=\"3350\" height=\"892\" class=\"alignnone size-full wp-image-31877\" /></a></p>\n<blockquote><p>\n  Note: Don’t forget to replace the test key once your account has been activated.\n</p></blockquote>\n<h3>Customize Charge</h3>\n<p>You will then be prompted to choose the type of charges that will act as an SMS trigger. As seen below, the default setting triggers an SMS for both new <em>and</em> failed charges. Be sure to update this setting according to your needs.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe4.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe4.png\" alt=\"Select what type of charges should trigger SMS action\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31878\" /></a></p>\n<h3>Find Data</h3>\n<p>Next, Zapier will attempt to find sample data from Stripe to help set up and test the Zap. If a live API key was used to connect Stripe, you should see real data samples. If not, Zapier will create sample charges to use for testing purposes.</p>\n<blockquote><p>\n  Note: Zapier can take up to a few minutes to create sample charges.\n</p></blockquote>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe5.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe5.png\" alt=\"Find Stripe data\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31879\" /></a></p>\n<p>Select a charge and click <strong>Done Editing</strong> to proceed to the next step.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe6.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe6.png\" alt=\"Select Stripe data for testing\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31880\" /></a></p>\n<h2>Step 3: Configure the Nexmo SMS Action</h2>\n<h3>Choose App &amp; Event</h3>\n<p>With Stripe configured, we are now ready to add the SMS action to the workflow! To start, search for <strong>Nexmo SMS</strong> in <strong>Choose App &amp; Event</strong>.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe7.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe7.png\" alt=\"Choose Nexmo for integration\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31881\" /></a></p>\n<p>Proceed with the default <strong>Send SMS</strong> action event.</p>\n<h3>Choose Nexmo Account</h3>\n<p>Now, connect your Nexmo account to Zapier. If you’ve already used Nexmo in another Zap, your account details will prepopulate the dropdown.</p>\n<p>If this is your first time creating a Nexmo workflow, enter the API key and API secret found at the top of your <a href=\"https://dashboard.nexmo.com/sign-in\">Nexmo dashboard</a> when prompted.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/connect-nexmo.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/connect-nexmo.png\" alt=\"Add Nexmo account prompt\" width=\"2184\" height=\"1680\" class=\"alignnone size-full wp-image-31887\" /></a></p>\n<p>Once added, your account will appear as an option to select on the dropdown.</p>\n<h3>Customize Send SMS</h3>\n<p>With that, we are ready to customize the SMS!</p>\n<p>As your Nexmo account is connected, Zapier will pull in any SMS enabled numbers on your account and use them to prepopulate the <strong>From</strong> dropdown with options to select. If you haven&#8217;t purchased a number yet, use the complimentary credit to do so on the Nexmo <a href=\"https://dashboard.nexmo.com/sign-in\">dashboard</a> now.</p>\n<p>Next, add the phone number you would like the SMS reminders to be sent to, including the area code. Then, construct the SMS template with as many details as you please. Zapier will pull in all sorts of data from Stripe that may be included in the message. Integrate the data directly within the <strong>Text</strong> field like so:</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe9.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe9.png\" alt=\"Add a phone number and customize SMS confirmation message\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31883\" /></a></p>\n<p>Don’t forget to incorporate the <strong>Receipt URL</strong> parameter in the message template!</p>\n<h2>Step 4: Test the integration</h2>\n<h3>Send Data</h3>\n<p><strong>Send Data</strong> to <strong>Test &amp; Review</strong> the Zap and ensure it’s functioning correctly.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe10.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe10.png\" alt=\"Test Zap\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31884\" /></a></p>\n<p>If the test is successful, an SMS confirmation message will be delivered momentarily.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe11.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe11.png\" alt=\"2-step Zap configuration completed\" width=\"3544\" height=\"2070\" class=\"alignnone size-full wp-image-31885\" /></a></p>\n<p>Lastly, toggle the Zap on to make it live.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe12.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/stripe12.png\" alt=\"Toggle Zap on\" width=\"1600\" height=\"114\" class=\"alignnone size-full wp-image-31886\" /></a></p>\n<p>Congratulations, you did it! Your Zap will now send SMS confirmation messages containing a link to the receipt after each Stripe charge.</p>\n<h2>What’s Next?</h2>\n<p>There will always be more ways to enhance communication in your business and never enough time in the day. Choosing to automate workflows with our new SMS integration removes manual work from your team’s task list and saves money on developer resources.</p>\n<p>With a few simple adjustments to this tutorial, you can improve and automate other purchasing-related business processes, such as:</p>\n<ul>\n<li>Send an SMS when a new invoice is created</li>\n<li>Notify your sales team when an invoice payment fails, so they can follow up with the customer</li>\n<li>Send an SMS when a new event like a subscription, dispute, or transfer is added</li>\n</ul>\n<p>If you have a favorite workflow you’d like to share or one you’d like to see us write about, let us know on <a href=\"https://twitter.com/VonageDev\">Twitter</a> or our <a href=\"https://developer.nexmo.com/community/slack\">Community Slack</a>!</p>\n"}