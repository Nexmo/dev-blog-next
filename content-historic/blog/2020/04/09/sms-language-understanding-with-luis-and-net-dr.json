{"_filedata":{"slug":"sms-language-understanding-with-luis-and-net-dr"},"title":"SMS Language Understanding with LUIS and .NET","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2020/04/Blog_SMS-Language_1200x600.png","author":349,"published":true,"published_at":"2020-04-09T13:05:33","tags":[385,1529,523,1746,1129,92],"body":"<p>How do you go about getting your user inputs? I bet if you&#8217;re building a web app or GUI, you&#8217;re probably going to be using some form that your user can fill out and submit. If you&#8217;re writing a console app, you&#8217;re going to have some coded series of inputs and flags that your user is going to give you. What if you wanted to take in a message, say an SMS, from a user and parse out actionable information from that SMS?</p>\n<p>Take this sentence, as an example:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef8a749503848\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nI'd like to have one cheese pizza from Joe's Pizza delivered to 21 Jump Street, Melbourne, FL 32940.\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef8a749503848-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef8a749503848-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef8a749503848-1\"><span class=\"crayon-i\">I</span><span class=\"crayon-s\">'d like to have one cheese pizza from Joe'</span><span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Pizza </span><span class=\"crayon-e\">delivered </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">21</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Jump </span><span class=\"crayon-v\">Street</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Melbourne</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">FL</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">32940.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef8a749503848-2\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>Imagine collecting that information in a web form.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef8e595291122\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nQuantity: 1\nItem: Pizza\nToppings: cheese\nRestaurant: Joe's Pizza\nMethod: Delivery\nstreet-number: 21\nstreet-name: Jump Street\nCity: Melbourne\nState: FL\nZip: 32940\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef8e595291122-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef8e595291122-1\"><span class=\"crayon-v\">Quantity</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef8e595291122-2\"><span class=\"crayon-v\">Item</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Pizza</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef8e595291122-3\"><span class=\"crayon-v\">Toppings</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cheese</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef8e595291122-4\"><span class=\"crayon-v\">Restaurant</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Joe</span>'<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Pizza</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef8e595291122-5\"><span class=\"crayon-v\">Method</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Delivery</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef8e595291122-6\"><span class=\"crayon-v\">street</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">number</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">21</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef8e595291122-7\"><span class=\"crayon-v\">street</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Jump </span><span class=\"crayon-e\">Street</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef8e595291122-8\"><span class=\"crayon-v\">City</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Melbourne</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef8e595291122-9\"><span class=\"crayon-v\">State</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FL</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef8e595291122-10\"><span class=\"crayon-v\">Zip</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">32940</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef8e595291122-11\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0002 seconds] -->\r\n<p></p>\n<p>But of course, since this phrase isn&#8217;t structured, it&#8217;s impossible to extract this information out of it. That&#8217;s where Microsoft&#8217;s Language Understanding (<a href=\"https://www.luis.ai/home\">LUIS</a>) comes in. With LUIS, we can build bots that allow us to use natural language as an input and understand the intent of the user even from these phrases. And that is what we are going to learn in this post—how to build natural language understanding using LUIS and using that language recognition to handle input from SMS.</p>\n<h2>Prerequisites</h2>\n<ul>\n<li>A <a href=\"https://dashboard.nexmo.com/sign-up?utm_source=DEV_REL&amp;utm_medium=github&amp;utm_campaign=https://github.com/nexmo-community/Luis-Sms-Dotnet-Sample\">Vonage API account</a></li>\n<li>Visual Studio or Rider (I&#8217;m using Visual Studio 2019)</li>\n<li>The .NET Core 3.1 runtime</li>\n<li>A <a href=\"https://www.luis.ai/\">LUIS Account</a></li>\n<li>Optional: <a href=\"https://ngrok.com/\">ngrok</a> to test</li>\n</ul>\n<h2>Some Important Concepts in LUIS AI</h2>\n<p>LUIS looks at all inputs as &#8216;utterances&#8217;, or things you might say. There are two key concepts that you need to understand to get up and running with LUIS. The first is intents. The intent is the objective of the utterance—so in our example, you might call that intent &#8216;OrderFood.&#8217; The second concept is entities, which are specific pieces of information passed along through our utterances, which could correspond to the data in a form.</p>\n<p>Using these core concepts, you can detect the intent of your user, almost like you&#8217;re routing the request to an endpoint. Then you can pull out the information your user is giving you for usage in your app.</p>\n<h2>Building LUIS Apps</h2>\n<p>Let&#8217;s start by going to the LUIS <a href=\"https://www.luis.ai/applications\">application page</a>.</p>\n<p>From here, create an app by clicking <em>Create app</em>. Let&#8217;s name it <code>DeliverySample</code>.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/create_app.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/create_app.png\" alt=\"create app\" width=\"449\" height=\"147\" class=\"alignnone size-full wp-image-32051\" /></a></p>\n<p>After creating your app, you&#8217;ll be redirected to your app&#8217;s dashboard. Click <em>Build</em> in the tab bar up top:</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/build.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/build.png\" alt=\"build\" width=\"286\" height=\"91\" class=\"alignnone size-full wp-image-32052\" /></a></p>\n<p>This will bring you to the builder interface. Now there are two ways to build your Luis app—via the API, or with the GUI. We&#8217;re just going to learn how to do it with the GUI.</p>\n<h3>Add Some Entities</h3>\n<h4>Address Entity</h4>\n<p>To add some entities to our app, we go to <em>App Assets</em> -&gt; <em>Entities</em>. We&#8217;ll start by creating an Address Entity. Since an address decomposes to several components, we&#8217;ll start by adding the component entity types. First, click <em>Create new Entity</em> and create a <code>simple</code> type called StreetNumber. Repeat this for StreetName, City, State, and ZipCode. Finally, we can create the composite entity. Click <em>Create New Entity</em> again, select type <code>composite</code>, and add each of the types we just created as children of that type.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/CreateAddressType.gif\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/CreateAddressType.gif\" alt=\"create address type\" width=\"1797\" height=\"853\" class=\"alignnone size-full wp-image-32053\" /></a></p>\n<h4>Method Entity</h4>\n<p>You can now create other entities as well—for example, a &#8216;Method&#8217; entity describing how the user is going to get the food. In this, the age of COVID-19, we only have two options: take-out or delivery. Thus, we&#8217;ll create Method as a <code>List</code> entity (an entity with an enumerated list of values), and those values we can provide synonyms for, e.g., &#8216;take away&#8217; or &#8216;dropped off.&#8217;</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/CreateMethodEntity.gif\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/CreateMethodEntity.gif\" alt=\"create method entity\" width=\"1797\" height=\"853\" class=\"alignnone size-full wp-image-32054\" /></a></p>\n<h4>Adding a Food entity</h4>\n<p>We can also add a food entity. For this, let&#8217;s add another <code>simple</code> entity and call it food.</p>\n<h4>Bring in a Domain-Simple Entity</h4>\n<p>The last entity we&#8217;ll add will be the PlaceName Domain-Simple entity. Click <em>Add prebuilt domain entity</em> and find <code>RestaurantReservation.PlaceName</code>. These prebuilt entities come along with hundreds of pre-trained utterances. Thus, they do a fair job of understanding what a place name looks like in context. Regardless, we&#8217;ll need to train LUIS to understand these a little better as it&#8217;s going to be looking at restaurant names from a different perspective.</p>\n<h3>Adding our Intent</h3>\n<p>Intents in LUIS are what the utterance you&#8217;re providing it is asking for or saying. So in our example, we can read the &#8216;intent&#8217; of the phrase as OrderFood. So let&#8217;s do just that. Go to <em>App Assets</em> -&gt; <em>Intents</em>. This page is the list of intents your app looks for. Every LUIS app understands a &#8216;None&#8217; intent, which is the &#8220;I don&#8217;t know&#8221; intent that it registers when it can&#8217;t make out what the utterance is saying. Let&#8217;s add our example &#8216;OrderFood&#8217; intent.</p>\n<h4>Add Utterances to OrderFood Intent</h4>\n<p>With our intent created, we need to populate the intent with utterances. Populating these utterances enables LUIS to recognize the intent and extract the data from it. The recommendation from Microsoft is that any real-world intent is going to need a minimum of 15 utterances of different lengths, structures, and tenses before LUIS can begin to predict and extract information accurately.</p>\n<p>To add utterances to an intent, click into the intent, bringing you to the intent&#8217;s page. On this page, there is a section that says &#8216;Enter an example of what a user might say and hit Enter.&#8217; Follow those instructions to enter an utterance. Here&#8217;s some that I started with:</p>\n<ul>\n<li>I&#8217;d like an order of disco fries sent to 14 Seventh Ave, New York New York, 10001</li>\n<li>Can I get a chicken burrito from Chipotle delivered to 15 Yemen Road, Cedar Rapids Iowa, 52227</li>\n<li>I&#8217;d like to pick up a General Tsao&#8217;s Chicken from Hop Bo&#8217;s</li>\n</ul>\n<h4>Labeling Entities</h4>\n<p>What we just did will allow LUIS to extract user intent from those phrases. But that&#8217;s only half of what makes LUIS powerful. Where LUIS gets powerful is that it allows you to extract data directly from user utterances using the entities we defined earlier. But, in order for it to do that, you must first label the entities within the utterances to have them identified. To do that, click on the individual words within the utterance that are relevant to the entity. See how I did it in the GIF below.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/ezgif.com-optimize-1.gif\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/ezgif.com-optimize-1.gif\" alt=\"mark entities\" width=\"1797\" height=\"853\" class=\"alignnone size-full wp-image-32059\" /></a></p>\n<h4>Testing our Intents</h4>\n<p>With the 3 or so entities that we&#8217;ve entered and marked so far, we can now go about actually playing with LUIS to see how it does (hint: it won&#8217;t do great with only 3 utterances). Click the train button on the upper right-hand corner of the screen. This makes LUIS train against all the entities/intents/utterances you&#8217;ve provided it thus far.</p>\n<p>When Luis finishes training, you can test it in the web interface. Click the <em>Test</em> button, which will pop out the chat window. Click the arrow button on the top right to expand the details pane. Now we can enter phrases and see what LUIS does. I&#8217;ll start with &#8220;Send chicken wings to 7287 North Cottage Ave. Camden, NJ 08105 from Popeye&#8217;s.&#8221; This is going to perform quite poorly because LUIS hasn&#8217;t seen anything structured quite this way yet. So we can pop out the detail pane and edit the intent so that it reflects what the intent should have been. Setting the intent in the details pane will push that utterance into the list of utterances for that intent. From there, we can mark the different entities from the intent.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/ezgif.com-optimize-6.gif\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/ezgif.com-optimize-6.gif\" alt=\"test luis\" width=\"873\" height=\"623\" class=\"alignnone size-full wp-image-32060\" /></a></p>\n<h3>Adding Patterns</h3>\n<p>If you look at the phrase &#8220;Send chicken wings to 7287 North Cottage Ave. Camden, NJ 08105 from Popeye&#8217;s&#8221; with all the entities highlighted it&#8217;ll look like this:</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/EntitiesHighlighted.png\" alt=\"Highlighted Entities\" /></p>\n<p>This forms something called a pattern, which is almost like a regex to LUIS. You can add this as a pattern by checking the box next to the utterance, and clicking &#8216;add as pattern&#8217; at the top. After doing this, hit train again to get LUIS to incorporate the new utterance and the pattern to its model.</p>\n<h4>Extracting Entities from Query&#8217;s</h4>\n<p>Now that we&#8217;ve trained LUIS a bit better, let&#8217;s again pass it &#8220;Send chicken wings to 7287 North Cottage Ave. Camden, NJ 08105 from Popeye&#8217;s.&#8221; This is going to produce a substantially different result. For one thing, now it&#8217;s 100% sure that the intent was to order food. Also, more significantly, in addition to determining the intent of the utterance, it&#8217;s extracted useful information from the utterance. For instance, we know that the method is &#8216;Send&#8217;, which is part of the delivery sub-list, therefore we know they want the chicken wings delivered. We know the food they want is &#8220;Chicken Wings.&#8221; We know they want the chicken wings from Popeye&#8217;s, and we know where to deliver it! When we query this later from our C# app, we&#8217;re going to see that the data comes back to us in a JSON object that we&#8217;ll be able to parse easily.</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/afterTraining.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/afterTraining.png\" alt=\"after training\" width=\"758\" height=\"831\" class=\"alignnone size-full wp-image-32055\" /></a></p>\n<h3>Publishing the Demo</h3>\n<p>To publish your LUIS app, just hit the publish button in the top right of the screen, select the <em>Production</em> radio button, and follow the instructions. You may want to enable Bing spell check or perhaps even sentiment analysis if you want to pull sentiment off of the requests. This will publish the app to an Azure endpoint—take note of the <code>Primary Key</code>, the <code>Endpoint Url</code>, and of course, your <code>AppId</code> in the Azure Resources and Application Information Pages. You&#8217;ll need them later.</p>\n<h2>Building our .NET app</h2>\n<p>For this demo, we&#8217;re going to create a simple inbound/outbound SMS API app in ASP.NET Core. So let&#8217;s fire up Visual Studio:</p>\n<ol>\n<li>Click <em>Create New</em></li>\n<li>ASP.NET Core Web Application</li>\n<li>Name it <code>LuisVonageDemo</code></li>\n<li>Click <em>Create</em></li>\n<li>Select API for the type</li>\n<li>Click <em>Create</em></li>\n<li>Add a new Class <code>LuisQuery</code></li>\n<li>Right-click the Controllers Directory and go to <em>Add</em> -&gt; <em>Controller</em>, create a new <em>API Controller</em> -&gt; <em>Empty</em> <code>SmsController</code></li>\n<li>Add a new class called <code>Dispatcher</code> to the project</li>\n</ol>\n<h3>Add Packages</h3>\n<p>Add the following packages to the project:</p>\n<ol>\n<li>Microsoft.Azure.CognitiveServices.Language.LUIS.Runtime (I&#8217;m using 3.0.0)</li>\n<li>Nexmo.Csharp.Client (I&#8217;m using 4.3.1)</li>\n</ol>\n<h3>Add Environment Variables</h3>\n<p>You can decide how you&#8217;re going to get your credentials into your app. I like to use either <strong>configuration dependency injection</strong> or <strong>environment variables</strong>. Using environment variables is a bit simpler in this instance, so we&#8217;ll go ahead and use that for the demo. Right-click on the project and go to properties. In the <em>Debug</em> tab, scroll down to environment variables and add the following:</p>\n<table>\n<thead>\n<tr>\n<th>Variable</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NEXMO_API_KEY</td>\n<td>Your API Key from the <a href=\"https://dashboard.nexmo.com/settings\">dashboard</a></td>\n</tr>\n<tr>\n<td>NEXMO_API_Secret</td>\n<td>Your API Secret from the <a href=\"https://dashboard.nexmo.com/settings\">dashboard</a></td>\n</tr>\n<tr>\n<td>LUIS_PREDICTION_KEY</td>\n<td>This is the key from LUIS</td>\n</tr>\n<tr>\n<td>LUIS_ENDPOINT_NAME</td>\n<td>The endpoint URL from LUIS e.g. https://westus.api.cognitive.microsoft.com</td>\n</tr>\n<tr>\n<td>LUIS_APP_ID</td>\n<td>the Guid App ID from Luis</td>\n</tr>\n</tbody>\n</table>\n<h3>Query Luis</h3>\n<p>So now we&#8217;re going to query the LUIS Endpoint from our app. Open up the <code>LuisQuery</code> class and add the following using statements at the top:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef90780467126\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nusing Microsoft.Azure.CognitiveServices.Language.LUIS.Runtime;\nusing Microsoft.Azure.CognitiveServices.Language.LUIS.Runtime.Models;\nusing System;\nusing System.Threading.Tasks;\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef90780467126-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef90780467126-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef90780467126-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef90780467126-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef90780467126-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef90780467126-1\"><span class=\"crayon-e\">using </span><span class=\"crayon-v\">Microsoft</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Azure</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CognitiveServices</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Language</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LUIS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Runtime</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef90780467126-2\"><span class=\"crayon-e\">using </span><span class=\"crayon-v\">Microsoft</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Azure</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CognitiveServices</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Language</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LUIS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Runtime</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Models</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef90780467126-3\"><span class=\"crayon-e\">using </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef90780467126-4\"><span class=\"crayon-e\">using </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Threading</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Tasks</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef90780467126-5\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>Next, inside the class add the following fields:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef92332311942\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\n// Use Language Understanding (LUIS) prediction endpoint key\n// to create authentication credentials\nprivate static string _predictionKey = Environment.GetEnvironmentVariable(\"LUIS_PREDICTION_KEY\");\n\n// Endpoint URL example value = \"https://YOUR-RESOURCE-NAME.api.cognitive.microsoft.com\"\nprivate static string _predictionEndpoint = Environment.GetEnvironmentVariable(\"LUIS_ENDPOINT_NAME\");\n\n// App Id example value e.g. \"df67dcdb-c37d-46af-88e1-8b97951ca1c2\"\nprivate static string _appId = Environment.GetEnvironmentVariable(\"LUIS_APP_ID\");\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef92332311942-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef92332311942-1\"><span class=\"crayon-c\">// Use Language Understanding (LUIS) prediction endpoint key</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef92332311942-2\"><span class=\"crayon-c\">// to create authentication credentials</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef92332311942-3\"><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_predictionKey</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Environment</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetEnvironmentVariable</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"LUIS_PREDICTION_KEY\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef92332311942-4\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef92332311942-5\"><span class=\"crayon-c\">// Endpoint URL example value = \"https://YOUR-RESOURCE-NAME.api.cognitive.microsoft.com\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef92332311942-6\"><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_predictionEndpoint</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Environment</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetEnvironmentVariable</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"LUIS_ENDPOINT_NAME\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef92332311942-7\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef92332311942-8\"><span class=\"crayon-c\">// App Id example value e.g. \"df67dcdb-c37d-46af-88e1-8b97951ca1c2\"</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef92332311942-9\"><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_appId</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Environment</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetEnvironmentVariable</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"LUIS_APP_ID\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef92332311942-10\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0002 seconds] -->\r\n<p></p>\n<p>Next, we&#8217;re going to create the client by generating a set of credentials from our prediction key, and using those credentials along with our endpoint. We&#8217;ll create a client in a static method.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef93943606267\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nprivate static LUISRuntimeClient CreateClient()\n{\n    var credentials = new ApiKeyServiceClientCredentials(_predictionKey);\n    return new LUISRuntimeClient(credentials, new System.Net.Http.DelegatingHandler[] { })\n    {\n        Endpoint = _predictionEndpoint\n    };\n}\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef93943606267-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef93943606267-1\"><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LUISRuntimeClient </span><span class=\"crayon-e\">CreateClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef93943606267-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef93943606267-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">credentials</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ApiKeyServiceClientCredentials</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">_predictionKey</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef93943606267-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LUISRuntimeClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">credentials</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Net</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Http</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">DelegatingHandler</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef93943606267-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef93943606267-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Endpoint</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">_predictionEndpoint</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef93943606267-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef93943606267-8\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef93943606267-9\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0002 seconds] -->\r\n<p></p>\n<p>The last thing to do here is to create a method that uses our prediction client to create a prediction. This method takes a string <code>query</code>, gets a prediction client, and adds our query onto our prediction endpoint.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef94662639949\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\npublic static async Task&lt;PredictionResponse&gt; GetPredictionAsync(string query)\n{\n    using (var luisClient = CreateClient())\n    {\n        var requestOptions = new PredictionRequestOptions\n        {\n            PreferExternalEntities = true\n        };\n\n        var predictionRequest = new PredictionRequest\n        {\n            Query = query,\n            Options = requestOptions\n        };\n\n        return await luisClient.Prediction.GetSlotPredictionAsync(\n            Guid.Parse(_appId),\n            slotName: \"production\",\n            predictionRequest,\n            verbose: true,\n            showAllIntents: true,\n            log: true);\n    }\n}\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef94662639949-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">async </span><span class=\"crayon-v\">Task</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">PredictionResponse</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GetPredictionAsync</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">query</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">using</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">luisClient</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CreateClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">requestOptions</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">PredictionRequestOptions</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">PreferExternalEntities</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-9\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">predictionRequest</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">PredictionRequest</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Query</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">query</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Options</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">requestOptions</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-15\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">await </span><span class=\"crayon-v\">luisClient</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Prediction</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetSlotPredictionAsync</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Guid</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Parse</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">_appId</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">slotName</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"production\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">predictionRequest</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">verbose</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">showAllIntents</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-22\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef94662639949-24\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef94662639949-25\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3>Add Dispatcher Code</h3>\n<p>Our Dispatcher is going to manage the business logic of what we want to do with our intents. Thus the first thing to establish is the enum for our intents. Add the following to your <code>Dispatcher</code> class:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef95345098214\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\npublic enum Intent\n{\n    None,\n    OrderFood\n}\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef95345098214-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef95345098214-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef95345098214-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef95345098214-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef95345098214-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef95345098214-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef95345098214-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">enum</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Intent</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef95345098214-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef95345098214-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">None</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef95345098214-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-i\">OrderFood</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef95345098214-5\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef95345098214-6\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>Next, add the following using statements to the <code>Dispatcher</code> file.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef97530197223\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nusing Newtonsoft.Json.Linq;\nusing Nexmo.Api;\nusing System;\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef97530197223-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef97530197223-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef97530197223-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef97530197223-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef97530197223-1\"><span class=\"crayon-e\">using </span><span class=\"crayon-v\">Newtonsoft</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Json</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Linq</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef97530197223-2\"><span class=\"crayon-e\">using </span><span class=\"crayon-v\">Nexmo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Api</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef97530197223-3\"><span class=\"crayon-e\">using </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef97530197223-4\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>Next, we&#8217;re going to add a function, <code>ExecuteQuery</code>, to execute the query, create a response message from the result of the query, and send that message back to the endpoint. It&#8217;s going to take our inbound SMS message from our controller endpoint (which we&#8217;ll build next), pull out the message, and feed it through our <code>LuisQuery</code> class. If the query detects a None intent, it creates a message saying, &#8220;I didn&#8217;t quite get that. Can you please specify what you would like to do?&#8221; Otherwise, it pulls the food and restaurant name out of the message and replies to the customer that their food is on the way.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef98714327981\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\npublic static async void ExecuteQuery(SMS.SMSInbound inbound)\n{\n    try\n    {\n        var query = inbound.text;\n\n        var apiKey = Environment.GetEnvironmentVariable(\"NEXMO_API_KEY\");\n        var apiSecret = Environment.GetEnvironmentVariable(\"NEXMO_API_SECRET\");\n\n        var message = string.Empty;\n\n        //Get prediction\n        var pred = await LuisQuery.GetPredictionAsync(query);\n\n        var intent = Enum.Parse(typeof(Intent), pred.Prediction.TopIntent);\n        Console.WriteLine($\"Top intent was {pred.Prediction.TopIntent}\");\n        switch (intent)\n        {\n            case Intent.None:\n                message = \"I didn't quite get that. Can you please specify what you would like to do?\";\n                break;\n            case Intent.OrderFood:\n                var food = (pred.Prediction.Entities[\"Food\"] as JArray)?[0];\n                var restaraunt = (pred.Prediction.Entities[\"RestaurantReservation.PlaceName\"] as JArray)?[0];\n                message = $\"We'll have that {food} from {restaraunt} send over straight away!\";\n                break;\n        }\n\n        Console.WriteLine($\"Message: {message}\");\n\n        //Send the SMS back\n        var client = new Client(new Nexmo.Api.Request.Credentials { ApiKey = apiKey, ApiSecret = apiSecret });\n        client.SMS.Send(new SMS.SMSRequest { to = inbound.msisdn, from = inbound.to, text = message });\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(ex.ToString());\n    }\n}\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef98714327981-40\">40</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">async </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ExecuteQuery</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">SMS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SMSInbound </span><span class=\"crayon-v\">inbound</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">try</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">query</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">inbound</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">text</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-6\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">apiKey</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Environment</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetEnvironmentVariable</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"NEXMO_API_KEY\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">apiSecret</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Environment</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetEnvironmentVariable</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"NEXMO_API_SECRET\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-9\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Empty</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-11\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">//Get prediction</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pred</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">await </span><span class=\"crayon-v\">LuisQuery</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetPredictionAsync</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">query</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-14\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">intent</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Enum</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Parse</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">typeof</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Intent</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pred</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Prediction</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">TopIntent</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">WriteLine</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-s\">\"Top intent was {pred.Prediction.TopIntent}\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">switch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">intent</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Intent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">None</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"I didn't quite get that. Can you please specify what you would like to do?\"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">break</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-22\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Intent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">OrderFood</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">food</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">pred</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Prediction</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Entities</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"Food\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">JArray</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">?</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">restaraunt</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">pred</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Prediction</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Entities</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"RestaurantReservation.PlaceName\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">JArray</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">?</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-s\">\"We'll have that {food} from {restaraunt} send over straight away!\"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">break</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-28\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">WriteLine</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-s\">\"Message: {message}\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-30\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-31\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">//Send the SMS back</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-32\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">client</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Client</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Nexmo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Api</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Request</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">Credentials</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ApiKey</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">apiKey</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ApiSecret</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">apiSecret</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SMS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Send</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">SMS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">SMSRequest</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">inbound</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">msisdn</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">inbound</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">to</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">text</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-34\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">catch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Exception </span><span class=\"crayon-v\">ex</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-36\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-37\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">WriteLine</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ex</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ToString</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-38\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef98714327981-39\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef98714327981-40\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p></p>\n<h3>Receiving and Sending SMS</h3>\n<p>We&#8217;re going to be receiving SMS messages on our <code>SmsController</code> endpoint, querying LUIS, and responding back to the incoming SMS. To do this, let&#8217;s go into our <code>SmsController</code> class. The first thing we&#8217;re going to do is drop the <code>Route</code> attribute from the <code>SmsController</code>. Then in here let&#8217;s add a method:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef99254445255\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\n[HttpGet(\"webhooks/inbound\")]\npublic IActionResult Get([FromQuery]SMS.SMSInbound inbound)\n{\n    Dispatcher.ExecuteQuery(inbound);\n    return NoContent();\n}\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef99254445255-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef99254445255-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef99254445255-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef99254445255-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef99254445255-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef99254445255-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef99254445255-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef99254445255-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">HttpGet</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"webhooks/inbound\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef99254445255-2\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">IActionResult </span><span class=\"crayon-e\">Get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">FromQuery</span><span class=\"crayon-sy\">]</span><span class=\"crayon-v\">SMS</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SMSInbound </span><span class=\"crayon-v\">inbound</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef99254445255-3\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef99254445255-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Dispatcher</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ExecuteQuery</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">inbound</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef99254445255-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">NoContent</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef99254445255-6\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef99254445255-7\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>You&#8217;ll need to import the <code>Nexmo.Api</code> namespace for this.</p>\n<p>And that&#8217;s all the code we&#8217;re going to need!</p>\n<h2>Testing with IIS Express and ngrok</h2>\n<p>We&#8217;re just going to be testing this in IIS express, so let&#8217;s go to the debug tab of the project properties page. I&#8217;m going to disable SSL on IIS Express and take note of the port number it&#8217;s hosting on. Next, I&#8217;m going to run the following command in the command prompt:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8ef9b032932057\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nngrok http --host-header=\"localhost:PORT_NUMBER\" http://localhost:PORT_NUMBER\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8ef9b032932057-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8ef9b032932057-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8ef9b032932057-1\"><span class=\"crayon-e\">ngrok </span><span class=\"crayon-v\">http</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">header</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"localhost:PORT_NUMBER\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//localhost:PORT_NUMBER</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8ef9b032932057-2\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>That&#8217;ll start up ngrok and produce something like:</p>\n<p><a href=\"https://www.nexmo.com/wp-content/uploads/2020/04/ngrok.png\"><img src=\"https://www.nexmo.com/wp-content/uploads/2020/04/ngrok.png\" alt=\"ngrok\" width=\"696\" height=\"212\" class=\"alignnone size-full wp-image-32056\" /></a></p>\n<p>Take note of the unique id ahead of the ngrok.io in the URL. Let this be and start the app up in debug mode in IIS Express.</p>\n<h2>Configure Webhooks</h2>\n<p>Now all that&#8217;s left to do is to go to the settings page in the <a href=\"https://dashboard.nexmo.com/settings\">dashboard</a> and change the inbound messages URL to <code>http://UNIQUE_NGROK_ENDPOINT.ngrok.io/webhooks/inbound.</code> Replace <code>UNIQUE_NGROK_ENDPOINT</code> with the random set of characters produced by ngrok. In the example above, the endpoint would be <code>http://dc0feb1d.ngrok.io/webhooks/inbound</code>. This points Vonage at our IIS Express server and allows us to receive messages on our SMS endpoint.</p>\n<h2>Time to Test</h2>\n<p>Now all that&#8217;s left to do is a test. The app should be up and running; all you have to do is to send a text message with your delivery order to any SMS-enabled number you&#8217;ve acquired through the <a href=\"https://dashboard.nexmo.com/your-numbers\">Vonage API dashboard</a>, and the order will be processed for you.</p>\n<h2>Next Steps</h2>\n<p>This demo was a basic example of how to work with LUIS. LUIS is a robust platform with lots of flexibility. However, as you&#8217;ve doubtlessly observed, it requires a lot of thought into how you&#8217;ll construct the knowledge base to be truly useful.</p>\n<p>There are a ton of channels that Vonage&#8217;s APIs enable you to use to talk to LUIS through. You can use the <a href=\"https://developer.nexmo.com/messages/overview\">Messages API</a>, which supports Facebook Messenger, WhatsApp, and Viber in addition to SMS. LUIS also allows you to work with speech directly, so you could potentially build a bot that listens to speech from a PSTN call via Vonage&#8217;s <a href=\"https://developer.nexmo.com/voice/voice-api/guides/websockets\">Websocket API</a>.</p>\n<h2>Resources</h2>\n<ul>\n<li>You can find the full sample code in <a href=\"https://github.com/nexmo-community/Luis-Sms-Dotnet-Sample\">GitHub</a></li>\n<li>If you want to skip the model building and import the one I built for demonstration purposes, it&#8217;s available <a href=\"https://github.com/nexmo-community/Luis-Sms-Dotnet-Sample/blob/master/DeliverySample.json\">here</a>.</li>\n<li>There&#8217;s lot&#8217;s of great docs for how to work with Luis on Microsoft&#8217;s docs <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/luis/\">site</a>.</li>\n</ul>\n"}