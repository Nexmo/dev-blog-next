{"_filedata":{"slug":"serverless-python-with-aws-lambda-dr"},"title":"Serverless Python With AWS Lambda","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2020/03/E_AWS-Lambda_1200x600-1.png","author":340,"published":true,"published_at":"2020-03-20T13:00:43","tags":[499,416,161,410,1216,455],"body":"<p>Using Python in serverless environments can be more automated than what I shared in my previous <a href=\"https://www.nexmo.com/blog/2020/03/02/aws-lambda-with-php-using-bref-and-serverless-framework-dr\">post using PHP and Bref</a>. At AWS, there are already pre-existing environments making initial deployment easier without using additional tools. However, using tools like the Serverless framework still carries value.</p>\n<p>This example will create an <a href=\"https://aws.amazon.com/lambda/\">AWS Lambda</a> Function for Python using <a href=\"https://serverless.com\">Serverless</a>. Then, we will add an API Gateway to make it available using an HTTP client or browser of your choosing.</p>\n<h2>Prerequisites</h2>\n<p>Here are things you will need to follow all examples:</p>\n<ul>\n<li><a href=\"https://nodejs.org/en/\">Node.js</a> for installing Serverless</li>\n<li><a href=\"https://serverless.com\">Serverless</a> to make creating and managing environments easier</li>\n<li><a href=\"https://aws.amazon.com/\">AWS account</a> and <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html\">access keys</a> for a user with access to <a href=\"https://docs.aws.amazon.com/s3/\">AWS S3</a> as well as <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/welcome.html\">AWS Lambda</a></li>\n</ul>\n<h2>AWS Console Approach</h2>\n<p>For basic function creation, the AWS Console can be used to navigate to the Lambda management area and click <code>Create Function</code> in the upper right. Following that, you will name and select the environment desired.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/aws_console_name_function.png\" alt=\"aws_console_name_function\" title=\"AWS Console Lambda Python Function Creation\" /></p>\n<h2>Serverless Framework</h2>\n<p>Though the AWS Console can perform the essential tasks of creating a function, we will use the <a href=\"https://serverless.com\">Serverless Framework</a> going forward, which is a &#8220;complete solution for building and operating serverless applications.&#8221; By using the Serverless framework, we gain scripts to automate any potential repetition of the process, as well as some starter code for immediate validation. Thus, our first step is to get this framework installed on the development system you&#8217;re using. We recommend installing it globally, to allow usage from anywhere via CLI.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcd7a3bc742976208\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nnpm install -g serverless\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3bc742976208-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3bc742976208-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3bc742976208-1\"><span class=\"crayon-e\">npm </span><span class=\"crayon-v\">install</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">g</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">serverless</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3bc742976208-2\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<h3>AWS Credentials</h3>\n<p>With Serverless installed, ensure you&#8217;ve also set up the AWS credentials needed for Serverless to interact with the various AWS services (S3, Lambda, and potentially EC2 or databases as required). In this example, we will only be using S3 and Lambda. You can read more about this at <a href=\"https://serverless.com/framework/docs/providers/aws/guide/credentials/#using-aws-access-keys\">serverless.com</a>.</p>\n<h3>Create Base</h3>\n<p>Serverless will guide you through a few prompts to help it create a beginning structure. To do so, call Serverless from within the project directory via CLI.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcd7a3c0404182742\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nserverless\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c0404182742-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c0404182742-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c0404182742-1\"><span class=\"crayon-i\">serverless</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c0404182742-2\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0000 seconds] -->\r\n<p></p>\n<h4>Follow Prompts</h4>\n<p>Serverless will begin walking you through creating a new project, the type of project you want to create (Node.js, Python, or Other), a name for this project, and whether you would like to activate added Serverless services (requiring a Serverless account). Once completed, the base structure will generate.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/aws_lambda_python_project_creation.png\" alt=\"aws_lambda_python_project_creation\" title=\"AWS Lambda Python Project Creation With Serveless\" /></p>\n<h4>Example YML File</h4>\n<p>As an example, below is a beginning <code>serverless.yml</code> file created by the process:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcd7a3c2204329459\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nservice: app\n\nprovider:\n  name: aws\n  runtime: python3.8\n\nfunctions:\n  hello:\n    handler: handler.hello\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c2204329459-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c2204329459-1\"><span class=\"crayon-v\">service</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">app</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c2204329459-2\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c2204329459-3\"><span class=\"crayon-v\">provider</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c2204329459-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">aws</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c2204329459-5\"><span class=\"crayon-e\">&nbsp;&nbsp;</span><span class=\"crayon-v\">runtime</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">python3</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">8</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c2204329459-6\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c2204329459-7\"><span class=\"crayon-v\">functions</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c2204329459-8\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">hello</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c2204329459-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">handler</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">handler</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">hello</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c2204329459-10\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>In the file, observe the name of the service, which you can alter to fit the desired naming conventions of your functions. By default, it will carry the name you specified during project creation.</p>\n<p>Following this, we can see the provider information for AWS Lambda with the Python runtime.</p>\n<p>Then, there is the section outlining the details of the function. Included is the initial handler for testing both as a function or HTTP (which requires an added step shown later).</p>\n<h2>Deploying to AWS Lambda</h2>\n<p>For either Function or HTTP use cases, the default <code>serverless</code> project provides enough of a skeleton to deploy straight to AWS Lambda and test using Serverless. Leveraging the AWS credentials configuration added prior, Serverless will deploy straight to Lambda using the contents of <code>serverless.yml</code> as criteria.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcd7a3c3265820729\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nserverless deploy\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c3265820729-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c3265820729-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c3265820729-1\"><span class=\"crayon-e\">serverless </span><span class=\"crayon-i\">deploy</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c3265820729-2\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0000 seconds] -->\r\n<p></p>\n<h2>Testing the Function</h2>\n<p>In the case of a function, there are two ways to test. One way is to use the AWS Console, while the second is using Serverless via CLI from the system used to deploy.</p>\n<h3>AWS Console</h3>\n<p>In the AWS Console, select the Lambda item from the list of Compute services.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/aws_console_compute_lambda.png\" alt=\"aws_console_compute_lambda\" title=\"AWS Console-Lambda Dashboard\" /></p>\n<p>On the Lambda dashboard, you can select the function created and create a new test by clicking <code>Configure test events</code>. Alternatively, you can click the <code>Test</code> button to receive the same prompt.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/lambda_function_create_test.png\" alt=\"lambda_function_create_test\" title=\"Lambda Create Test\" /></p>\n<p>For a test of the skeleton created, add a name and slightly alter the JSON in the body.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/configure_test_events.png\" alt=\"configure_test_events\" title=\"Configure Test Events\" /></p>\n<p>Upon clicking the <code>Create</code> button at the bottom of the dialog, you can then click the <code>Test</code> button to execute the test. Running should result in a green dialog area you can expand to show the results.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/lambda_test_results.png\" alt=\"lambda_test_results\" title=\"Lambda Test Results\" /></p>\n<h3>Serverless Function Execution</h3>\n<p>As stated above, you can also use the Serverless CLI to test the function by using the following command from within the local application root:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcd7a3c4578803087\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nserverless invoke -f function --data='{\"name\": \"Adam\"}'\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcd7a3c4578803087-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcd7a3c4578803087-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcd7a3c4578803087-1\"><span class=\"crayon-e\">serverless </span><span class=\"crayon-v\">invoke</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'{\"name\": \"Adam\"}'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcd7a3c4578803087-2\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>Example result:<br />\n<img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/serverless_lambda_function_execution.png\" alt=\"serverless_lambda_function_execution\" title=\"Serverless Lambda Function Execution\" /></p>\n<h3>Testing An HTTP Function</h3>\n<p>You can also test as an HTTP function. However, doing this will require the addition of an API Gateway trigger in the AWS Lambda Console. The trigger could have been specified in the <code>serverless.yml</code> as well, but for this basic example, it is good for you to know how to do it manually.</p>\n<p>From within the Lambda function properties page, click <code>Add Trigger</code> in the Designer area. In the following prompt, select <code>API Gateway</code> from the list.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/aws_console_add_trigger.png\" alt=\"aws_console_add_trigger\" title=\"Add an API Gateway Trigger\" /></p>\n<p>Next, define the trigger to <code>Create a new API</code> and select <code>HTTP API</code> before clicking the <code>Add</code> button.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/aws_console_define_trigger.png\" alt=\"aws_console_define_trigger\" title=\"Define the API Gateway Trigger\" /></p>\n<p>After adding the API Gateway Trigger, it is now possible to request the URL provided by the trigger using an HTTP client or a standard browser.</p>\n<p><img src=\"https://www.nexmo.com/wp-content/uploads/2020/03/browser_api_gateway_launch.png\" alt=\"browser_api_gateway_launch\" title=\"Request the Function in a Browser\" /></p>\n<h2>What Next</h2>\n<p>With an AWS Lambda function created, you can continue adding more code and creating more robust Python apps leveraging the serverless technologies available today. Watch for future posts showing how to build useful functions to leverage Vonage APIs and services using AWS Lambda.</p>\n"}