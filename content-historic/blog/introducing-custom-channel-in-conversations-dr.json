{"_filedata":{"slug":"introducing-custom-channel-in-conversations-dr"},"title":"Introducing Custom Channels in Conversations","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2020/02/E_Client-SDK-Update_1200x600.png","author":253,"published":true,"published_at":"2020-02-05T08:28:27","tags":[1628,1672,1674,1675],"body":"At Vonage, we are committed to building the most robust, flexible and scalable platforms possible so that you can continue creating great conversation experiences for your users. With that in mind, we’re happy to announce a new sibling for in-app voice and messages channels: Custom Channels!\n\nUsing custom events, you can create a custom integration with any channel you can imagine. For example, other [messaging platforms](https://www.nexmo.com/blog/2019/11/01/integrating-the-conversation-api-with-wechat-dr), [emails](https://developer.nexmo.com/use-cases/client-sdk-sendinblue-order-confirm), or [payments](https://developer.nexmo.com/use-cases/digital-marketplace-client-sdk).\n\n## How It Works:\n\n### 1\\. Defining the `Custom Event` Object\n\nA custom event has a `type` and a `body`. The `type` is your chosen name for the custom channel, which starts with the key `\"custom:\"`. The `body` is key-value pairs that define the data you’d like to pass in the event.\n\n### 2\\. Sending Custom Events\n\nYou can send custom events to a Conversation through [Conversations API](https://developer.nexmo.com/conversation/code-snippets/event/create-custom-event), or Client SDKs.\n\nWhen sending an event through the Android or iOS SDKs, the `\"custom:\"` prefix for the event type is automatically added on your behalf.\n\nBelow are examples of how this can be achieved using the three supported [Client SDKs](https://developer.nexmo.com/client-sdk/overview).\n\n#### Android\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">var sendListener: NexmoRequestListener&lt;Void&gt; = object: NexmoRequestListener&lt;Void&gt; { override fun onError(error: NexmoApiError) {...} override fun onSuccess(var1: Void?) {...} } conversation.sendCustomEvent(\"my_type\", hashMapOf(\"myKey\" to \"myValue\"), sendListener)</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf94f816587523-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf94f816587523-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf94f816587523-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf94f816587523-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf94f816587523-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf94f816587523-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf94f816587523-7\">7</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf94f816587523-1\"><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sendListener</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NexmoRequestListener</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">Void</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">object</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">NexmoRequestListener</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">Void</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf94f816587523-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">override </span><span class=\"crayon-e\">fun </span><span class=\"crayon-e\">onError</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">error</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NexmoApiError</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf94f816587523-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">override </span><span class=\"crayon-e\">fun </span><span class=\"crayon-e\">onSuccess</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">var1</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Void</span><span class=\"crayon-sy\">?</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf94f816587523-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf94f816587523-5\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf94f816587523-6\"><span class=\"crayon-v\">conversation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sendCustomEvent</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"my_type\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">hashMapOf</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"myKey\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"myValue\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sendListener</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf94f816587523-7\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### iOS\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">conversation.sendCustom(withEvent: \"my_type\", data: [\"myKey\": \"myValue\"], completionHandler: { (error) in if let error = error {...} NSLog(\"Custom event sent.\") })</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf953515573301-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf953515573301-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf953515573301-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf953515573301-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf953515573301-5\">5</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf953515573301-1\"><span class=\"crayon-v\">conversation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sendCustom</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">withEvent</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"my_type\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"myKey\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"myValue\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">completionHandler</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf953515573301-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">let </span><span class=\"crayon-v\">error</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">error</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf953515573301-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">NSLog</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Custom event sent.\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf953515573301-4\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf953515573301-5\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### JavaScript\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">conversation.sendCustomEvent({ type: 'custom:my_type', body: { myKey: 'myValue' }}).then((custom_event) =&gt; { ... });</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf954380704864-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf954380704864-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf954380704864-1\"><span class=\"crayon-v\">conversation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sendCustomEvent</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">type</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'custom:my_type'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">body</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">myKey</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'myValue'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">then</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">custom_event</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf954380704864-2\">&nbsp;</div></div></td></tr></tbody></table>\n\n### 3\\. Receiving Custom Events\n\nReceiving a custom event is similar to receiving any other event in you’ll receive it on your application’s RTC `event_url`.\n\nIn our three supported Client SDKs, you’ll receive it as shown below:\n\n#### Android\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">var customEventListener: NexmoCustomEventListener = NexmoCustomEventListener { event -&gt; Log.d(TAG, \"Received custom event with type \" + event.customType + \": \" + event.data) } conversation.addCustomEventListener(customEventListener)</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf955327450462-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf955327450462-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf955327450462-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf955327450462-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf955327450462-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf955327450462-6\">6</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf955327450462-1\"><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">customEventListener</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NexmoCustomEventListener</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">NexmoCustomEventListener</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf955327450462-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Log</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">d</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">TAG</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Received custom event with type \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">customType</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\": \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf955327450462-3\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf955327450462-4\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf955327450462-5\"><span class=\"crayon-v\">conversation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">addCustomEventListener</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">customEventListener</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf955327450462-6\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### iOS\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">//In `NXMConversationDelegate`: func conversation(_ conversation: NXMConversation, didReceive event: NXMCustomEvent) { NSLog(\"Received custom event with type \\(String(describing: event.customType)): \\(String(describing: event.data))\"); }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf956916112958-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf956916112958-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf956916112958-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf956916112958-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf956916112958-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf956916112958-6\">6</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf956916112958-1\"><span class=\"crayon-c\">//In `NXMConversationDelegate`:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf956916112958-2\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf956916112958-3\"><span class=\"crayon-e\">func </span><span class=\"crayon-e\">conversation</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">conversation</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NXMConversation</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">didReceive </span><span class=\"crayon-v\">event</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NXMCustomEvent</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf956916112958-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">NSLog</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Received custom event with type <span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e \">String</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">describing</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v \">customType</span><span class=\"crayon-sy\">)</span>): <span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e \">String</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">describing</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v \">data</span><span class=\"crayon-sy\">)</span>)\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf956916112958-5\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf956916112958-6\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### JavaScript\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">conversation.on('custom:my_type', (from, event) =&gt; { console.log(event.body); });</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf957221631814-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf957221631814-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf957221631814-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf957221631814-4\">4</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf957221631814-1\"><span class=\"crayon-v\">conversation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">on</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'custom:my_type'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">from</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf957221631814-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf957221631814-3\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf957221631814-4\">&nbsp;</div></div></td></tr></tbody></table>\n\n### 4\\. Sending Push Notifications\n\nIf your Android or iOS application is running in the background, you might want to notify your user about an incoming custom event with a push notification.\n\nTo do that, you must define the payload to send per push notification on a per type basis:\n\n`PUT https://api.nexmo.com/v2/applications/:your_nexmo_application_id`\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">{ \"capabilities\": { \"rtc\": { ... \"push_notifications\": { \"custom:my_type\": { enabled: true, template: { notification: { body: \"Value sent: '${event.body.my_key}' !” }, data: { image: \"https://example.image.jpg\", myKey: myValue } } } } } }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf959569438073-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf959569438073-21\">21</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-1\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">\"capabilities\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">\"rtc\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">\"push_notifications\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">\"custom:my_type\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">enabled</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">template</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">notification</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">body</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Value sent: '${event.body.my_key}' !”</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-11\"><span class=\"crayon-s\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-12\"><span class=\"crayon-s\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data: {</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-13\"><span class=\"crayon-s\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image: \"</span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//example.image.jpg\",</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">myKey</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">myValue</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf959569438073-20\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf959569438073-21\">&nbsp;</div></div></td></tr></tbody></table>\n\n### 5\\. Receiving Push Notification\n\nAfter [setting up push notifications](https://developer.nexmo.com/client-sdk/setup/set-up-push-notifications) for your mobile apps, you’re ready to receive your custom push. You can access the custom data that you previously defined as follows:\n\n#### Android\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">if (NexmoClient.isNexmoPushNotification(message!!.data)) { NexmoPushPayload nexmoPushPayload = nexmoClient.processPushPayload(message!!.data, pushListener) when(nexmoPushPayload.pushTemplate){ Custom -&gt; nexmoPushEvent.customData //got custom push data 😀 Default -&gt; nexmoPushEvent.eventData // got default push event data } }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95a165859893-10\">10</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95a165859893-1\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">NexmoClient</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">isNexmoPushNotification</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">message</span><span class=\"crayon-o\">!</span><span class=\"crayon-o\">!</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">&nbsp;&nbsp;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95a165859893-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">NexmoPushPayload </span><span class=\"crayon-v\">nexmoPushPayload</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nexmoClient</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">processPushPayload</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">message</span><span class=\"crayon-o\">!</span><span class=\"crayon-o\">!</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pushListener</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95a165859893-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">when</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">nexmoPushPayload</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pushTemplate</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95a165859893-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Custom</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95a165859893-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">nexmoPushEvent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">customData</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//got custom push data 😀</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95a165859893-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">Default</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95a165859893-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">nexmoPushEvent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">eventData</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// got default push event data</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95a165859893-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95a165859893-9\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95a165859893-10\">&nbsp;</div></div></td></tr></tbody></table>\n\n#### iOS\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">NSDictionary* pushData = [get the payload]; if ([NXMClient.shared.isNexmoPush:pushData]) { NXMPushPayload nexmoPushPayload = [NXMClient.shared processPushPayload:pushData]; if (nexmoPushPayload.template == NXMPushTemplateCustom){ nexmoPushEvent.customData //got custom push data 😀 } if (nexmoPushPayload.template == NXMPushTemplateDefault){ nexmoPushEvent.eventData // got default push event data } }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1bdf95b956980656-13\">13</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95b956980656-1\"><span class=\"crayon-e \">NSDictionary*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pushData</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">the </span><span class=\"crayon-v\">payload</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95b956980656-2\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95b956980656-3\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">NXMClient</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">shared</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">isNexmoPush</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">pushData</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95b956980656-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">NXMPushPayload </span><span class=\"crayon-v\">nexmoPushPayload</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">NXMClient</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">shared </span><span class=\"crayon-v\">processPushPayload</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">pushData</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95b956980656-5\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95b956980656-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">nexmoPushPayload</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">template</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NXMPushTemplateCustom</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95b956980656-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">nexmoPushEvent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">customData</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//got custom push data 😀</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95b956980656-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95b956980656-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">nexmoPushPayload</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">template</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NXMPushTemplateDefault</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95b956980656-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">nexmoPushEvent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">eventData</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// got default push event data</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95b956980656-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1bdf95b956980656-12\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1bdf95b956980656-13\">&nbsp;</div></div></td></tr></tbody></table>\n\n## Integration Complete\n\nYou now have all you need to a custom channel with custom push notifications into your conversation experiences. We can’t wait to see which channels you’ll add and how you’ll use them to enrich your user’s conversation with you!\n\n## What’s Next?\n\n*   Check out the full guides custom events guides for [Conversations API](https://developer.nexmo.com/conversation/code-snippets/event/create-custom-event) and for [Client SDKs](https://developer.nexmo.com/client-sdk/custom-events).\n*   Find examples for custom channel integrations with [WeChat](https://www.nexmo.com/blog/2019/11/01/integrating-the-conversation-api-with-wechat-dr), [SendinBlue emails](https://developer.nexmo.com/use-cases/client-sdk-sendinblue-order-confirm), or [payments with Stripe](https://developer.nexmo.com/use-cases/digital-marketplace-client-sdk).\n*   Explore more Conversations [API](https://developer.nexmo.com/conversation/overview) and [Client SDK](https://developer.nexmo.com/client-sdk/overview) features in our public documentation.\n\nShould you have any questions or feedback – let us know on our [Community Slack](https://developer.nexmo.com/community) or support@nexmo.com"}